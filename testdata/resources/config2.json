{
  "bigip": {
    "url": "http://example.com",
    "username": "admin",
    "password": "pass",
    "partitions": ["cf"]
  },
  "global": {
    "log-level": "debug",
    "verify-interval": 30
  },
  "resources": {
    "virtualServers": [{
      "name": "routing-vip-http",
      "pool": "",
      "partition": "cf",
      "mode": "http",
      "virtualAddress": {
        "bindAddr": "127.0.0.1",
        "port": 80
      },
      "policies": [{
        "name": "cf-routing-policy",
        "partition": "cf"
      }],
      "profiles": [{
        "name": "http",
        "partition": "Common"
      }]
    }],
    "pools": [{
      "name": "cf-cf.com",
      "partition": "cf",
      "serviceName": "*.cf.com",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.5.1:80"],
      "monitor": ["/Common/tcp_half_open"]
    }, {
      "name": "cf-bar-d21aa8a505891ac9",
      "partition": "cf",
      "serviceName": "bar.cf.com",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.1.2:80"],
      "monitor": ["/Common/tcp_half_open"]
    }, {
      "name": "cf-baz-9a96ddcfe07bb46e",
      "partition": "cf",
      "serviceName": "baz.cf.com",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.2.1:80", "127.0.2.2:80"],
      "monitor": ["/Common/tcp_half_open"]
    }, {
      "name": "cf-baz-69cf12df3b85f455",
      "partition": "cf",
      "serviceName": "baz.cf.com/segment1",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.3.1:80"],
      "monitor": ["/Common/tcp_half_open"]
    }, {
      "name": "cf-baz-beac6f8bec5a4446",
      "partition": "cf",
      "serviceName": "baz.cf.com/segment1/segment2/segment3",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.4.1:80", "127.0.4.2:80"],
      "monitor": ["/Common/tcp_half_open"]
    }, {
      "name": "cf-qux-ac504dcd7f58634d",
      "partition": "cf",
      "serviceName": "qux.cf.com",
      "servicePort": -1,
      "balance": "round-robin",
      "poolMemberAddrs": ["127.0.7.1:80"],
      "monitor": ["/Common/tcp_half_open"]
    }],
    "l7Policies": [{
      "controls": ["forwarding"],
      "legacy": true,
      "name": "cf-routing-policy",
      "partition": "cf",
      "requires": ["http"],
      "rules": [{
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-qux-ac504dcd7f58634d",
          "request": true
        }],
        "conditions": [{
          "equals": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": ["qux.cf.com"]
        }],
        "name": "cf-qux-ac504dcd7f58634d",
        "ordinal": 0
      }, {
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-baz-beac6f8bec5a4446",
          "request": true
        }],
        "conditions": [{
          "equals": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": ["baz.cf.com"]
        }, {
          "equals": true,
          "httpUri": true,
          "pathSegment": true,
          "name": "1",
          "index": 1,
          "request": true,
          "values": ["segment1"]
        }, {
          "equals": true,
          "httpUri": true,
          "pathSegment": true,
          "name": "2",
          "index": 2,
          "request": true,
          "values": ["segment2"]
        }, {
          "equals": true,
          "httpUri": true,
          "pathSegment": true,
          "name": "3",
          "index": 3,
          "request": true,
          "values": ["segment3"]
        }],
        "name": "cf-baz-beac6f8bec5a4446",
        "ordinal": 1
      }, {
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-baz-69cf12df3b85f455",
          "request": true
        }],
        "conditions": [{
          "equals": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": ["baz.cf.com"]
        }, {
          "equals": true,
          "httpUri": true,
          "pathSegment": true,
          "name": "1",
          "index": 1,
          "request": true,
          "values": ["segment1"]
        }],
        "name": "cf-baz-69cf12df3b85f455",
        "ordinal": 2
      }, {
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-baz-9a96ddcfe07bb46e",
          "request": true
        }],
        "conditions": [{
          "equals": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": ["baz.cf.com"]
        }],
        "name": "cf-baz-9a96ddcfe07bb46e",
        "ordinal": 3
      }, {
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-bar-d21aa8a505891ac9",
          "request": true
        }],
        "conditions": [{
          "equals": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": ["bar.cf.com"]
        }],
        "name": "cf-bar-d21aa8a505891ac9",
        "ordinal": 4
      }, {
        "actions": [{
          "forward": true,
          "name": "0",
          "pool": "/cf/cf-cf.com",
          "request": true
        }],
        "conditions": [{
          "endsWith": true,
          "host": true,
          "httpHost": true,
          "name": "0",
          "index": 0,
          "request": true,
          "values": [".cf.com"]
        }],
        "name": "cf-cf.com",
        "ordinal": 5
      }],
      "strategy": "/Common/first-match"
    }]
  }
}
